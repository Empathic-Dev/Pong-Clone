<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="game.css">
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono|IBM+Plex+Serif" rel="stylesheet">
  <link rel="shortcut icon" href="pong-favicon.png" type="image/x-icon">

  <title>Code Your first Game | Pong |</title>

</head>

<body>
  <header><h1>Princess Shuri Builds Pong</h1></header>

  <main>
    <canvas id="gameCanvas" width="500" height="580"></canvas>
  </main>

  <footer>

    <p><i><a href="https://www.udemy.com/code-your-first-game/learn/v4/content" target="_blank">Code Your First Game</a></i> by Chris DeLeon via <a href="https://www.udemy.com/" target="_blank">Udemy</a></p>

  </footer>

  <script>
    var canvas; //dimensions of canvas display area
    var canvesContext; //the graphical information of the canvas
    var ballX = 255; // the x -axis coordinate of the ball
    var ballSpeedX = 5; // speed of tha ball

  window.onload = function(){
    canvas = document.getElementById('gameCanvas');
    canvasContext = canvas.getContext('2d');

    var framesPerSecond = 60;
    setInterval(function(){
      drawEverything();
      moveEverything();
    }, 1000/framesPerSecond); // calls the drawEverything function 60 times a second

    drawEverything();
  }

  function colorRect(leftX, topY, width, height, drawColor) {
    canvasContext.fillStyle = drawColor;
    canvasContext.fillRect(leftX, topY, width, height);
  }

  function colorCircle(centerX, centerY, radius, drawColor) {
    canvasContext.fillStyle = drawColor;
    canvasContext.beginPath();
      // first two arguments is the center of the ball, third argument is the radius, next two arguments are for the angles and radians around the circle, the last argument is for drawing the arc clockwise (false) or counterclockwise (true)
    canvasContext.arc(centerX,centerY, radius, 0, Math.PI*2, true);
    canvasContext.fill();
  }

  function drawEverything(){
    console.log('I will finish this project!!!');
    console.log(ballX)
      //canvas background
    colorRect(0,0,canvas.width,canvas.height, '#232D5E');
      // player paddle
    colorRect(5,200,10,200, '#e6e7e8');
      // computer paddle
    colorRect(485,200,10,200, '#e6e7e8');
      // ball
    colorCircle(ballX, canvas.height/2, 6, '#D5A001')
    }

  function moveEverything(){
    ballX = ballX + ballSpeedX;
    if (ballX > 470) {
      ballSpeedX = -ballSpeedX;
    }
    if (ballX < 20) {
      ballSpeedX = -ballSpeedX;
    }
  }
  </script>
  
</body>

</html>